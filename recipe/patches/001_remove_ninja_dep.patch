diff --git i/cpp/nanobind/CMakeLists.txt w/cpp/nanobind/CMakeLists.txt
index 8ea5622..51cc35c 100644
--- i/cpp/nanobind/CMakeLists.txt
+++ w/cpp/nanobind/CMakeLists.txt
@@ -3,6 +3,9 @@ find_package(
   COMPONENTS Interpreter Development.Module
   REQUIRED
 )
+execute_process(
+  COMMAND "${Python_EXECUTABLE}" -m nanobind --cmake_dir
+  OUTPUT_STRIP_TRAILING_WHITESPACE OUTPUT_VARIABLE nanobind_ROOT)
 find_package(nanobind CONFIG REQUIRED)
 
 # Compile this source file seperately. Nanobind suggests to optimize bindings code for size, but
@@ -11,9 +14,10 @@ find_package(nanobind CONFIG REQUIRED)
 add_library(python_methods STATIC)
 target_sources(python_methods PRIVATE python_methods.cc)
 target_link_libraries(python_methods PUBLIC xgrammar)
+set_target_properties(python_methods PROPERTIES POSITION_INDEPENDENT_CODE ON)
 
 # Any code that uses nanobind directly lives here
-nanobind_add_module(xgrammar_bindings LTO nanobind.cc)
+nanobind_add_module(xgrammar_bindings NB_SHARED nanobind.cc)
 target_link_libraries(xgrammar_bindings PRIVATE python_methods)
 
 if(DEFINED SKBUILD_PROJECT_NAME)
diff --git i/pyproject.toml w/pyproject.toml
index 11fae7d..5f13c7b 100644
--- i/pyproject.toml
+++ w/pyproject.toml
@@ -21,7 +21,6 @@ dependencies = [
   "transformers>=4.38.0",
   "triton; platform_system == 'Linux' and platform_machine == 'x86_64'",
   "mlx-lm; platform_system == 'Darwin' and platform_machine == 'arm64'",
-  "ninja",
 ]
 dynamic = ["version"]
 
